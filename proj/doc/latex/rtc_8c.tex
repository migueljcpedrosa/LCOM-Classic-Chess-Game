\hypertarget{rtc_8c}{}\doxysection{drivers/rtc/rtc.c File Reference}
\label{rtc_8c}\index{drivers/rtc/rtc.c@{drivers/rtc/rtc.c}}
{\ttfamily \#include \char`\"{}rtc.\+h\char`\"{}}\newline
Include dependency graph for rtc.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{rtc_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{rtc_8c_a71cdb1583d1f8cabbbadd632c10e6f99}{rtc\+\_\+initialize\+\_\+system}} ()
\begin{DoxyCompactList}\small\item\em Initializes the RTC system. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_ad5b4bbd3e481eb459c63fddee3f7e2b1}{rtc\+\_\+in\+\_\+binary\+\_\+mode}} ()
\begin{DoxyCompactList}\small\item\em Checks if the RTC is in binary mode. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_adad56ed559d74b535482c751a0f1cd8f}{rtc\+\_\+read\+\_\+register}} (uint8\+\_\+t command, uint8\+\_\+t $\ast$output)
\begin{DoxyCompactList}\small\item\em Reads a value from a specific RTC register. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_a0420f18e3d3ce594093271df3b1e2af0}{rtc\+\_\+subscribe\+\_\+interrupts}} (uint8\+\_\+t $\ast$bit\+\_\+no)
\begin{DoxyCompactList}\small\item\em Subscribes RTC interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_ae0e5cb47db8832528abb7dc48255cd3a}{rtc\+\_\+unsubscribe\+\_\+interrupts}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes RTC interrupts. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{rtc_8c_a43b18290dcd8121141c99d2e3c78b43a}{rtc\+\_\+convert\+\_\+bcd\+\_\+to\+\_\+binary}} (uint8\+\_\+t bcd\+\_\+number)
\begin{DoxyCompactList}\small\item\em Converts a BCD number to binary. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{rtc_8c_ab4200c12ca8fcf100c0e9f825e5e93c9}{rtc\+\_\+currently\+\_\+updating}} ()
\begin{DoxyCompactList}\small\item\em Checks if the RTC is currently updating. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_a603a03e790a750b23dd019c128317824}{rtc\+\_\+update\+\_\+time\+\_\+unit}} (uint8\+\_\+t register\+\_\+address, uint8\+\_\+t $\ast$time\+\_\+component)
\begin{DoxyCompactList}\small\item\em Updates a specific time unit in the RTC. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_a31b9d04a4fc98dadf67ccb9a682b926f}{rtc\+\_\+update\+\_\+current\+\_\+time}} ()
\begin{DoxyCompactList}\small\item\em Updates the current time stored in the RTC. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_a5813ed4dd88a4d8fb69f773005922e15}{rtc\+\_\+ih}} (\mbox{\hyperlink{structrtc__timestamp__t}{rtc\+\_\+timestamp\+\_\+t}} $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em Interrupt handler for the RTC. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{rtc_8c_a96f78a87d064e47d627d222f67a8d012}{hook\+\_\+id}} = 5
\item 
int \mbox{\hyperlink{rtc_8c_a907c3b8e6ea5f112ac8afc0160176b66}{rtc\+\_\+irq}} = 8
\item 
\mbox{\hyperlink{structrtc__timestamp__t}{rtc\+\_\+timestamp\+\_\+t}} \mbox{\hyperlink{rtc_8c_a042aa9f8ced31da8f8b9b6267114dfe6}{current\+\_\+time}}
\item 
bool \mbox{\hyperlink{rtc_8c_a0bd49abfa44cecde13b3cf541dcdcdcf}{rtc\+\_\+binary\+\_\+mode}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{rtc_8c_a43b18290dcd8121141c99d2e3c78b43a}\label{rtc_8c_a43b18290dcd8121141c99d2e3c78b43a}} 
\index{rtc.c@{rtc.c}!rtc\_convert\_bcd\_to\_binary@{rtc\_convert\_bcd\_to\_binary}}
\index{rtc\_convert\_bcd\_to\_binary@{rtc\_convert\_bcd\_to\_binary}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_convert\_bcd\_to\_binary()}{rtc\_convert\_bcd\_to\_binary()}}
{\footnotesize\ttfamily uint8\+\_\+t rtc\+\_\+convert\+\_\+bcd\+\_\+to\+\_\+binary (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{bcd\+\_\+number }\end{DoxyParamCaption})}



Converts a BCD number to binary. 


\begin{DoxyParams}{Parameters}
{\em bcd\+\_\+number} & The BCD number to convert.\\
\hline
\end{DoxyParams}
This function converts a BCD number to its equivalent binary number.

\begin{DoxyReturn}{Returns}
Returns the converted binary number. 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a43b18290dcd8121141c99d2e3c78b43a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_ab4200c12ca8fcf100c0e9f825e5e93c9}\label{rtc_8c_ab4200c12ca8fcf100c0e9f825e5e93c9}} 
\index{rtc.c@{rtc.c}!rtc\_currently\_updating@{rtc\_currently\_updating}}
\index{rtc\_currently\_updating@{rtc\_currently\_updating}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_currently\_updating()}{rtc\_currently\_updating()}}
{\footnotesize\ttfamily bool rtc\+\_\+currently\+\_\+updating (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks if the RTC is currently updating. 

This function checks the RTC update status register and returns true if an update is in progress.

\begin{DoxyReturn}{Returns}
Returns true if the RTC is updating, false otherwise. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_ab4200c12ca8fcf100c0e9f825e5e93c9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_ab4200c12ca8fcf100c0e9f825e5e93c9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_a5813ed4dd88a4d8fb69f773005922e15}\label{rtc_8c_a5813ed4dd88a4d8fb69f773005922e15}} 
\index{rtc.c@{rtc.c}!rtc\_ih@{rtc\_ih}}
\index{rtc\_ih@{rtc\_ih}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_ih()}{rtc\_ih()}}
{\footnotesize\ttfamily int rtc\+\_\+ih (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtc__timestamp__t}{rtc\+\_\+timestamp\+\_\+t}} $\ast$}]{timestamp }\end{DoxyParamCaption})}



Interrupt handler for the RTC. 


\begin{DoxyParams}{Parameters}
{\em timestamp} & A pointer to the variable that will hold the current time upon interrupt.\\
\hline
\end{DoxyParams}
This function handles the RTC interrupts by updating the current time and storing it in the provided timestamp.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and 1 upon failure. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a5813ed4dd88a4d8fb69f773005922e15_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a5813ed4dd88a4d8fb69f773005922e15_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_ad5b4bbd3e481eb459c63fddee3f7e2b1}\label{rtc_8c_ad5b4bbd3e481eb459c63fddee3f7e2b1}} 
\index{rtc.c@{rtc.c}!rtc\_in\_binary\_mode@{rtc\_in\_binary\_mode}}
\index{rtc\_in\_binary\_mode@{rtc\_in\_binary\_mode}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_in\_binary\_mode()}{rtc\_in\_binary\_mode()}}
{\footnotesize\ttfamily int rtc\+\_\+in\+\_\+binary\+\_\+mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks if the RTC is in binary mode. 

This function reads the Register B of the RTC and checks the second bit which determines if the RTC is in binary mode.

\begin{DoxyReturn}{Returns}
Returns 0 if the RTC is in BCD mode, and non-\/zero if it\textquotesingle{}s in binary mode. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_ad5b4bbd3e481eb459c63fddee3f7e2b1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_ad5b4bbd3e481eb459c63fddee3f7e2b1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_a71cdb1583d1f8cabbbadd632c10e6f99}\label{rtc_8c_a71cdb1583d1f8cabbbadd632c10e6f99}} 
\index{rtc.c@{rtc.c}!rtc\_initialize\_system@{rtc\_initialize\_system}}
\index{rtc\_initialize\_system@{rtc\_initialize\_system}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_initialize\_system()}{rtc\_initialize\_system()}}
{\footnotesize\ttfamily int rtc\+\_\+initialize\+\_\+system (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initializes the RTC system. 

This function checks if the RTC is in binary mode, and if so, it attempts to update the current time.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and 1 upon failure. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a71cdb1583d1f8cabbbadd632c10e6f99_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a71cdb1583d1f8cabbbadd632c10e6f99_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_adad56ed559d74b535482c751a0f1cd8f}\label{rtc_8c_adad56ed559d74b535482c751a0f1cd8f}} 
\index{rtc.c@{rtc.c}!rtc\_read\_register@{rtc\_read\_register}}
\index{rtc\_read\_register@{rtc\_read\_register}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_read\_register()}{rtc\_read\_register()}}
{\footnotesize\ttfamily int rtc\+\_\+read\+\_\+register (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{command,  }\item[{uint8\+\_\+t $\ast$}]{output }\end{DoxyParamCaption})}



Reads a value from a specific RTC register. 


\begin{DoxyParams}{Parameters}
{\em command} & The register to read from. \\
\hline
{\em output} & A pointer to store the read value.\\
\hline
\end{DoxyParams}
This function reads a value from a specified RTC register and stores it in the provided pointer.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and 1 upon failure. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{rtc_8c_adad56ed559d74b535482c751a0f1cd8f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_adad56ed559d74b535482c751a0f1cd8f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_a0420f18e3d3ce594093271df3b1e2af0}\label{rtc_8c_a0420f18e3d3ce594093271df3b1e2af0}} 
\index{rtc.c@{rtc.c}!rtc\_subscribe\_interrupts@{rtc\_subscribe\_interrupts}}
\index{rtc\_subscribe\_interrupts@{rtc\_subscribe\_interrupts}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_subscribe\_interrupts()}{rtc\_subscribe\_interrupts()}}
{\footnotesize\ttfamily int rtc\+\_\+subscribe\+\_\+interrupts (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{bit\+\_\+no }\end{DoxyParamCaption})}



Subscribes RTC interrupts. 


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & A pointer to the bit number to be set in the mask returned upon an interrupt.\\
\hline
\end{DoxyParams}
This function subscribes RTC interrupts by setting the policy for the RTC IRQ line to be re-\/enabled after being handled.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and non-\/zero otherwise. 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a0420f18e3d3ce594093271df3b1e2af0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_ae0e5cb47db8832528abb7dc48255cd3a}\label{rtc_8c_ae0e5cb47db8832528abb7dc48255cd3a}} 
\index{rtc.c@{rtc.c}!rtc\_unsubscribe\_interrupts@{rtc\_unsubscribe\_interrupts}}
\index{rtc\_unsubscribe\_interrupts@{rtc\_unsubscribe\_interrupts}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_unsubscribe\_interrupts()}{rtc\_unsubscribe\_interrupts()}}
{\footnotesize\ttfamily int rtc\+\_\+unsubscribe\+\_\+interrupts (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes RTC interrupts. 

This function unsubscribes RTC interrupts.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and non-\/zero otherwise. 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_ae0e5cb47db8832528abb7dc48255cd3a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_a31b9d04a4fc98dadf67ccb9a682b926f}\label{rtc_8c_a31b9d04a4fc98dadf67ccb9a682b926f}} 
\index{rtc.c@{rtc.c}!rtc\_update\_current\_time@{rtc\_update\_current\_time}}
\index{rtc\_update\_current\_time@{rtc\_update\_current\_time}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_update\_current\_time()}{rtc\_update\_current\_time()}}
{\footnotesize\ttfamily int rtc\+\_\+update\+\_\+current\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Updates the current time stored in the RTC. 

This function updates the current time by reading the seconds, minutes, hours, day, month, and year registers from the RTC.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and 1 upon failure. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a31b9d04a4fc98dadf67ccb9a682b926f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a31b9d04a4fc98dadf67ccb9a682b926f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{rtc_8c_a603a03e790a750b23dd019c128317824}\label{rtc_8c_a603a03e790a750b23dd019c128317824}} 
\index{rtc.c@{rtc.c}!rtc\_update\_time\_unit@{rtc\_update\_time\_unit}}
\index{rtc\_update\_time\_unit@{rtc\_update\_time\_unit}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_update\_time\_unit()}{rtc\_update\_time\_unit()}}
{\footnotesize\ttfamily int rtc\+\_\+update\+\_\+time\+\_\+unit (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{register\+\_\+address,  }\item[{uint8\+\_\+t $\ast$}]{time\+\_\+component }\end{DoxyParamCaption})}



Updates a specific time unit in the RTC. 


\begin{DoxyParams}{Parameters}
{\em register\+\_\+address} & The register that stores the time unit to update. \\
\hline
{\em time\+\_\+component} & A pointer to the variable that will hold the updated time unit.\\
\hline
\end{DoxyParams}
This function reads the specified RTC register and updates the corresponding time component. If the RTC is in binary mode, the register value is used directly. Otherwise, it\textquotesingle{}s converted from BCD to binary.

\begin{DoxyReturn}{Returns}
Returns 0 upon success, and 1 upon failure. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a603a03e790a750b23dd019c128317824_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rtc_8c_a603a03e790a750b23dd019c128317824_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{rtc_8c_a042aa9f8ced31da8f8b9b6267114dfe6}\label{rtc_8c_a042aa9f8ced31da8f8b9b6267114dfe6}} 
\index{rtc.c@{rtc.c}!current\_time@{current\_time}}
\index{current\_time@{current\_time}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{current\_time}{current\_time}}
{\footnotesize\ttfamily \mbox{\hyperlink{structrtc__timestamp__t}{rtc\+\_\+timestamp\+\_\+t}} current\+\_\+time}

\mbox{\Hypertarget{rtc_8c_a96f78a87d064e47d627d222f67a8d012}\label{rtc_8c_a96f78a87d064e47d627d222f67a8d012}} 
\index{rtc.c@{rtc.c}!hook\_id@{hook\_id}}
\index{hook\_id@{hook\_id}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{hook\_id}{hook\_id}}
{\footnotesize\ttfamily int hook\+\_\+id = 5}

\mbox{\Hypertarget{rtc_8c_a0bd49abfa44cecde13b3cf541dcdcdcf}\label{rtc_8c_a0bd49abfa44cecde13b3cf541dcdcdcf}} 
\index{rtc.c@{rtc.c}!rtc\_binary\_mode@{rtc\_binary\_mode}}
\index{rtc\_binary\_mode@{rtc\_binary\_mode}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_binary\_mode}{rtc\_binary\_mode}}
{\footnotesize\ttfamily bool rtc\+\_\+binary\+\_\+mode}

\mbox{\Hypertarget{rtc_8c_a907c3b8e6ea5f112ac8afc0160176b66}\label{rtc_8c_a907c3b8e6ea5f112ac8afc0160176b66}} 
\index{rtc.c@{rtc.c}!rtc\_irq@{rtc\_irq}}
\index{rtc\_irq@{rtc\_irq}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_irq}{rtc\_irq}}
{\footnotesize\ttfamily int rtc\+\_\+irq = 8}

